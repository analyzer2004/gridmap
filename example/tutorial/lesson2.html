<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <script src="../../src/gridmap.js"></script>
</head>
<body>
    <script>

        const svg = d3.select("body")
            .append("svg")
            .style("font-size", "9pt")
            .style("font-family", "Times New Roman")
            .attr("width", 1280)
            .attr("height", 1280);
        //.attr("viewBox", "0 0 1024 768");

        const socal =
            [[0, 0, "SLO"], [1, 0, ""], [2, 0, ""], [3, 0, ""],
            [0, 1, "SB"], [1, 1, "KER"], [2, 1, ""], [3, 1, ""],
            [0, 2, ""], [1, 2, "VEN"], [2, 2, "LA"], [3, 2, "SBD"],
            [0, 3, ""], [1, 3, ""], [2, 3, "OC"], [3, 3, "RIV"],
            [0, 4, ""], [1, 4, ""], [2, 4, "SD"], [3, 4, "IMP"]].map(d => ({ col: d[0], row: d[1], code: d[2] }));

        const sales = [
            { code: "SLO", name: "San Luis Obispo", value: 138800 }, { code: "SB", name: "Santa Barbara", value: 1724650 }, { code: "KER", name: "Kern", value: 28500 },
            { code: "VEN", name: "Ventura", value: 985460 }, { code: "LA", name: "Los Angeles", value: 4763850 }, { code: "SBD", name: "Sab Bernadino", value: 1332765 },
            { code: "OC", name: "Orange", value: 2863752 }, { code: "RIV", name: "Riverside", value: 2246830 }, { code: "SD", name: "San Diego", value: 2921634 }
        ];

        const gmap = new Gridmap(svg)
            .size([400, 400])
            .style({
                shape: "square",
                sizeByValue: false
            })
            .field({ code: "code", name: "name", total: "value" })
            .mapGrid(socal)
            .data(sales)
            .render();

    </script>

</body>
</html>